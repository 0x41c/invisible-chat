{"version":3,"sources":["../src/when.js"],"names":["when","process","env","A_TEST_BABEL_REGISTER","require","global","_babelPolyfill","_willSetExitCode","on","setExitCode","act","context","ensureStatsInitialized","arguments","length","undefined","testSuite","execute","calling_module","filename"],"mappings":";;;;;kBAewBA,I;;AAfxB;;;;AACA;;;;;;AAEA,IAAGC,QAAQC,GAAR,CAAYC,qBAAf,EACIC,QAAQ,gBAAR;;AAEJ,IAAG,CAACC,OAAOC,cAAX,EACCF,QAAQ,gBAAR;;AAED,IAAG,CAACC,OAAOE,gBAAX,EAA6B;AAC5BN,UAAQO,EAAR,CAAW,MAAX,EAAmB;AAAA,WAAM,mBAASC,WAAT,EAAN;AAAA,GAAnB;AACAJ,SAAOE,gBAAP,GAA0B,IAA1B;AACA;;AAGc,SAASP,IAAT,CAAcU,GAAd,EAAmBC,OAAnB,EAA4B;AAC1C,qBAASC,sBAAT;AACG,MAAIC,UAAUC,MAAV,KAAqB,CAAzB,EAA4B;AACxBH,cAAUE,UAAU,CAAV,CAAV;AACAH,UAAMK,SAAN;AACH;AACD,MAAIC,YAAYhB,KAAKgB,SAAL,IAAkB,yBAAlC;AACA,SAAOA,UAAUC,OAAV,CAAkBP,GAAlB,EAAuBC,OAAvB,EAAgCX,KAAKkB,cAAL,CAAoBC,QAApD,CAAP;AACH","file":"when.js","sourcesContent":["import TestSuite from './testSuite';\nimport reporter from './reporter';\n\nif(process.env.A_TEST_BABEL_REGISTER)\n    require('babel-register');\n\nif(!global._babelPolyfill)\n\trequire('babel-polyfill');\n\nif(!global._willSetExitCode) {\n\tprocess.on('exit', () => reporter.setExitCode());\n\tglobal._willSetExitCode = true;\n}\n\n\nexport default function when(act, context) {\n\treporter.ensureStatsInitialized();\n    if (arguments.length === 1) {\n        context = arguments[0];\n        act = undefined;\n    }\n    let testSuite = when.testSuite || new TestSuite();\n    return testSuite.execute(act, context, when.calling_module.filename);\n}\n"]}