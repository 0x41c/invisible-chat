{"version":3,"sources":["../src/result.js"],"names":["Result","reporter","it","_reporter","_it","suiteName","arrangeActChain","_suiteName","_arrangeActChain","title","executeSync","suite","regularIt","e","inconclusiveSuite","inconclusiveIt","callback","execute","then","_ok","result","_fail","_logError","notRunnableSuite"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;;;;;IAEqBA,M;AAEjB,sBACmB;AAAA,YADPC,QACO;AAAA,YAAfC,EAAe,uEAAV,kBAAU;;AAAA;;AACf,aAAKC,SAAL,GAAiBF,QAAjB;AACA,aAAKG,GAAL,GAAWF,EAAX;AACH;;;;8BAEKG,S,EAAWC,e,EAAiB;AAC9B,iBAAKC,UAAL,GAAkBF,SAAlB;AACA,iBAAKG,gBAAL,GAAwBF,eAAxB;AACH;;;2BAUEG,K,EAAO;AACN,gBAAI;AACA,qBAAKD,gBAAL,CAAsBE,WAAtB;AACA,qBAAKP,SAAL,CAAeQ,KAAf,CAAqB,KAAKJ,UAA1B;AACA,uBAAO,KAAKH,GAAL,CAASQ,SAAT,CAAmBH,KAAnB,CAAP;AAEH,aALD,CAKE,OAAOI,CAAP,EAAU;AACR,qBAAKV,SAAL,CAAeW,iBAAf,CAAiC,KAAKP,UAAtC,EAAkDM,CAAlD;AACA,uBAAO,KAAKT,GAAL,CAASW,cAAT,CAAwBN,KAAxB,CAAP;AACH;AACJ;;;6BAEIO,Q,EAAU;AAAA;;AACX,mBAAO,KAAKR,gBAAL,CACFS,OADE,GAEFC,IAFE,CAEG;AAAA,uBAAU,MAAKC,GAAL,CAASC,MAAT,CAAV;AAAA,aAFH,EAE+B;AAAA,uBAAK,MAAKC,KAAL,CAAWR,CAAX,CAAL;AAAA,aAF/B,EAGFK,IAHE,CAGG,kBAAU;AACxB,sBAAKf,SAAL,CAAeQ,KAAf,CAAqB,MAAKJ,UAA1B;AACY,uBAAOS,SAASI,MAAT,CAAP;AACH,aANE,EAOFF,IAPE,CAOG,IAPH,EAOS;AAAA,uBAAK,MAAKI,SAAL,CAAeT,CAAf,CAAL;AAAA,aAPT,CAAP;AAQH;;;8BAEK;AACF,mBAAO,KAAKT,GAAL,CAASQ,SAAhB;AACH;;;8BAEKC,C,EAAG;AACL,iBAAKV,SAAL,CAAeW,iBAAf,CAAiC,KAAKP,UAAtC,EAAkDM,CAAlD;AACA,mBAAO,KAAKT,GAAL,CAASW,cAAhB;AACH;;;kCAESF,C,EAAG;AACT,iBAAKV,SAAL,CAAeoB,gBAAf,CAAgC,KAAKhB,UAArC,EAAiDM,CAAjD;AACH;;;4BA1Ce;AACZ,mBAAO,KAAKN,UAAZ;AACH;;;4BAEqB;AAClB,mBAAO,KAAKC,gBAAZ;AACH;;;;;;kBAnBgBR,M","file":"result.js","sourcesContent":["import realReporter from './reporter';\nimport It from './it';\n\nexport default class Result {\n\n    constructor(reporter = realReporter,\n        it = new It()) {\n        this._reporter = reporter;\n        this._it = it;\n    }\n\n    setup(suiteName, arrangeActChain) {\n        this._suiteName = suiteName;\n        this._arrangeActChain = arrangeActChain;\n    }\n\n    get suiteName() {\n        return this._suiteName;\n    }\n\n    get arrangeActChain() {\n        return this._arrangeActChain;\n    }\n\n    it(title) {\n        try {\n            this._arrangeActChain.executeSync()\n            this._reporter.suite(this._suiteName);\n            return this._it.regularIt(title);\n\n        } catch (e) {\n            this._reporter.inconclusiveSuite(this._suiteName, e);\n            return this._it.inconclusiveIt(title);\n        }\n    }\n\n    then(callback) {\n        return this._arrangeActChain\n            .execute()\n            .then(result => this._ok(result), e => this._fail(e))\n            .then(result => {\n\t\t\t\tthis._reporter.suite(this._suiteName);\n                return callback(result);\n            })\n            .then(null, e => this._logError(e));\n    }\n\n    _ok() {\n        return this._it.regularIt;\n    }\n\n    _fail(e) {\n        this._reporter.inconclusiveSuite(this._suiteName, e);\n        return this._it.inconclusiveIt;\n    }\n\n    _logError(e) {\n        this._reporter.notRunnableSuite(this._suiteName, e);\n    }\n}\n"]}